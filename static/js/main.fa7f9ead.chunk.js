(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{54:function(n,e,t){"use strict";t.r(e);var r,c,i,a,o,s,u,l,b,j=t(0),d=t.n(j),f=t(7),h=t.n(f),O=t(2),g=t(3),m=t(1),p=g.b.div(r||(r=Object(O.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100vw;\n  height: 10vh;\n  background-color: #744aff;\n"]))),v=g.b.h2(c||(c=Object(O.a)(["\n  color: #ffffff;\n"]))),x=g.b.img(i||(i=Object(O.a)(["\n  width: 2.5rem;\n  height: 2.5rem;\n"]))),w=function(){return Object(m.jsxs)(p,{children:[Object(m.jsx)(x,{src:"/img/hamburger-menu.svg",alt:"menu"}),Object(m.jsx)(v,{children:"\ubc18\ubc30\uae30"}),Object(m.jsx)(x,{src:"/img/info-icon.svg",alt:"info"})]})},k=t(6),y=t(5),E=t.n(y),M=t(10),S=t(9),L=t(8),C=t(29),A=t.n(C),q=function(){var n=Object(M.a)(E.a.mark((function n(){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=Object(M.a)(E.a.mark((function n(e,t){var r,c,i;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.get("http://openapi.seoul.go.kr:8088/".concat("5849486b5163686c3837614c41626f","/json/OpenAptInfo/1/1000/"));case 3:"\uc815\uc0c1 \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4"===(r=n.sent).data.OpenAptInfo.RESULT.MESSAGE?(c=r.data.OpenAptInfo.row,i=c.map((function(n){return{id:n.APT_CODE,name:n.APT_NM,latlng:{lat:n.Y_CODE,lng:n.X_CODE},quantity:Math.floor(50*Math.random())}})),console.log(i),e(i)):console.error(r.data.OpenAptInfo.RESULT.MESSAGE),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("error");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();var I,P=g.b.div(a||(a=Object(O.a)(["\n  position: fixed;\n  bottom: 0vh;\n  width: 100%;\n  height: 18vh;\n  background-color: #ffffff;\n  border-radius: 1.25rem 1.25rem 0 0;\n  z-index: 999;\n"]))),T=g.b.div(o||(o=Object(O.a)(["\n  padding: 1.5rem 0 0 1.5rem;\n  color: #20124d;\n"]))),z=g.b.h3(s||(s=Object(O.a)(["\n  margin: 0 0 1rem 0;\n  font-size: 1.5rem;\n"]))),F=g.b.span(u||(u=Object(O.a)(["\n  margin-right: 3rem;\n"]))),V=g.b.span(l||(l=Object(O.a)([""]))),_=g.b.p(b||(b=Object(O.a)([""]))),D=function(n){var e=n.name,t=n.quantity,r=n.distance;return Object(m.jsx)(P,{children:Object(m.jsxs)(T,{children:[Object(m.jsx)(z,{children:e}),Object(m.jsxs)(F,{children:[r," km"]}),Object(m.jsxs)(V,{children:[t," kg / 50 kg"]}),Object(m.jsx)(_,{children:"\ud63c\uc7a1\ub3c4 : \ubcf4\ud1b5"})]})})},R=function(n){var e=n.position,t=n.name,r=n.quantity,c=n.distance,i=function(n){var e=Object(j.useState)(n),t=Object(S.a)(e,2),r=t[0],c=t[1],i=Object(j.useRef)(null),a=function(n){"Escape"===n.key&&c(!1)},o=function(n){i.current&&!i.current.contains(n.target)&&c(!1)};return Object(j.useEffect)((function(){return document.addEventListener("keydown",a,!0),document.addEventListener("click",o,!0),function(){document.removeEventListener("keydown",a,!0),document.removeEventListener("click",o,!0)}})),{ref:i,isComponentVisible:r,setIsComponentVisible:c}}(!1),a=i.ref,o=i.isComponentVisible,s=i.setIsComponentVisible,u=Object(L.d)();return Object(m.jsxs)("div",{ref:a,children:[Object(m.jsx)(L.c,{position:e,image:{src:"/img/trash-icon.svg",size:{width:30,height:30}},onClick:function(n){s(!1),u.panTo(n.getPosition()),s(!0)}}),o&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(L.a,{position:e}),Object(m.jsx)(D,{name:t,quantity:r,distance:c})]})]})},G=g.b.div(I||(I=Object(O.a)(["\n  width: 100vw;\n  height: 100vh;\n  text-align: center;\n  line-height: 75vh;\n  color: #20124d;\n  background-color: #ede8ff;\n  font-size: 1.5rem;\n"]))),J=function(){var n=Object(j.useState)({center:{lat:33.450701,lng:126.570667},errMsg:null,isLoading:!0}),e=Object(S.a)(n,2),t=e[0],r=e[1],c=Object(j.useState)([]),i=Object(S.a)(c,2),a=i[0],o=i[1],s=Object(j.useState)(!1),u=Object(S.a)(s,2),l=u[0],b=u[1],d=function(){var n=Object(M.a)(E.a.mark((function n(){var e;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.next=3,q();case 3:e=n.sent,o(e),b(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(n,e,t,r){var c=.017453292519943295,i=Math.cos,a=.5-i((t-n)*c)/2+i(n*c)*i(t*c)*(1-i((r-e)*c))/2;return(12742*Math.asin(Math.sqrt(a))).toFixed(2)};return Object(j.useEffect)((function(){d(),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){r((function(e){return Object(k.a)(Object(k.a)({},e),{},{center:{lat:n.coords.latitude,lng:n.coords.longitude},isLoading:!1})}))}),(function(n){r((function(e){return Object(k.a)(Object(k.a)({},e),{},{errMsg:n.message,isLoading:!1})}))})):r((function(n){return Object(k.a)(Object(k.a)({},n),{},{errMsg:"geolocation\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc5b4\uc694..",isLoading:!1})}))}),[]),l?Object(m.jsx)(G,{children:"\ub85c\ub529 \uc911 \uc785\ub2c8\ub2e4"}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(L.b,{center:t.center,style:{width:"100vw",height:"100vh"},level:5,children:a.length>0&&a.map((function(n){return Object(m.jsx)(R,{position:n.latlng,name:n.name,quantity:n.quantity,distance:f(t.center.lat,t.center.lng,n.latlng.lat,n.latlng.lng)},n.id)}))})})};var U,B=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(w,{}),Object(m.jsx)(J,{})]})},N=Object(g.a)(U||(U=Object(O.a)(["\n  html, body {\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: 'Sunflower', sans-serif;\n  }\n  a {\n    text-decoration: none;\n  }\n  ul {\n    list-style: none;\n  }\n"])));h.a.render(Object(m.jsxs)(d.a.StrictMode,{children:[Object(m.jsx)(B,{}),Object(m.jsx)(N,{})]}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.fa7f9ead.chunk.js.map